!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("pixi.js"),require("qunity")):"function"==typeof define&&define.amd?define(["exports","pixi.js","qunity"],t):t((e=e||self)["qunity-pixi"]={},e.PIXI,e.qunity)}(this,function(e,s,n){"use strict";s=s&&s.hasOwnProperty("default")?s.default:s;var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function t(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t){var n=t(e);if(!n&&e.children&&0<e.children.length)for(var r=0,o=e.children;r<o.length;r++){if(i(o[r],t))break}return n}function o(e,t){for(var n=t(e);!n&&e.parent;)(e=e.parent)&&(n=t(e));return n}var a,u,p,c={pointertap:"click",pointerdown:"mouseDown",pointermove:"mouseMove",pointerup:"mouseUp",pointerupoutside:"mouseUpOutside"},l=(t(d,a=n.EntityAdaptorBase),d.prototype.getActive=function(){return a.prototype.getActive.call(this)&&this._entity.visible},d.prototype.setActive=function(e){a.prototype.setActive.call(this,e),this._entity.visible=e},d.prototype._onInteractionEvent=function(e){if(e.target||"pointerupoutside"===e.type){var t=c[e.type];this.invokeInteractionEvent(t,e)}},d);function d(e,t){var n=a.call(this,e,t)||this;for(var r in e.interactive=!0,c)e.on(r,n._onInteractionEvent,n);return n}function f(e,t,n){for(var r=s.Loader.shared,o=0,i=e;o<i.length;o++){var a=i[o];r.add(a)}var u=e.length,p=0;r.on("progress",function(e){p++,t&&t(p,u)}),r.load(n)}function E(e){return s.Loader.shared.resources[e]}(p||(p={})).TEXTURE="texture://";var O=((u={})[p.TEXTURE]=function(e,t,n){var r,o=n.replace(p.TEXTURE,"");(r=e.getRes(o))&&(r=r.texture);return r},u);var b,R={align:["string",""],breakWords:["boolean",""],dropShadow:["boolean",""],dropShadowAlpha:["number",""],dropShadowAngle:["number",""],dropShadowBlur:["number",""],dropShadowColor:["color",""],dropShadowDistance:["number",""],fill:["color",""],fontFamily:["string",""],fontSize:["number",""],fontStyle:["string",""],fontVariant:["string",""],fontWeight:["string",""],leading:["number",""],letterSpacing:["number",""],lineHeight:["number",""],lineJoin:["string",""],miterLimit:["number",""],padding:["number",""],stroke:["number",""],strokeThickness:["number",""],trim:["boolean",""],textBaseline:["string",""],whiteSpace:["string",""],wordWrap:["boolean",""],wordWrapWidth:["number",""]};(b=e.PIXI_BLEND_MODES||(e.PIXI_BLEND_MODES={}))[b.NORMAL=0]="NORMAL",b[b.ADD=1]="ADD",b[b.MULTIPLY=2]="MULTIPLY",b[b.SCREEN=3]="SCREEN",b[b.OVERLAY=4]="OVERLAY",b[b.DARKEN=5]="DARKEN",b[b.LIGHTEN=6]="LIGHTEN",b[b.COLOR_DODGE=7]="COLOR_DODGE",b[b.COLOR_BURN=8]="COLOR_BURN",b[b.HARD_LIGHT=9]="HARD_LIGHT",b[b.SOFT_LIGHT=10]="SOFT_LIGHT",b[b.DIFFERENCE=11]="DIFFERENCE",b[b.EXCLUSION=12]="EXCLUSION",b[b.HUE=13]="HUE",b[b.SATURATION=14]="SATURATION",b[b.COLOR=15]="COLOR",b[b.LUMINOSITY=16]="LUMINOSITY",b[b.NORMAL_NPM=17]="NORMAL_NPM",b[b.ADD_NPM=18]="ADD_NPM",b[b.SCREEN_NPM=19]="SCREEN_NPM",b[b.NONE=20]="NONE",b[b.SRC_OVER=0]="SRC_OVER",b[b.SRC_IN=21]="SRC_IN",b[b.SRC_OUT=22]="SRC_OUT",b[b.SRC_ATOP=23]="SRC_ATOP",b[b.DST_OVER=24]="DST_OVER",b[b.DST_IN=25]="DST_IN",b[b.DST_OUT=26]="DST_OUT",b[b.DST_ATOP=27]="DST_ATOP",b[b.ERASE=26]="ERASE",b[b.SUBTRACT=28]="SUBTRACT",b[b.XOR=29]="XOR";var _,S={Container:{def:s.Container,isContainer:!0,props:{position:["vector2",[0,0]],scale:["vector2",[1,1]],anchor:["vector2",[0,0]],pivot:["vector2",[0,0]],skew:["vector2",[0,0]],width:["number",0],height:["number",0],alpha:["number",0],angle:["number",0],buttonMode:["boolean",!0],interactive:["boolean",!0],interactiveChildren:["boolean",!0],angle:["number",0],zIndex:["number",0]}},Sprite:{base:"Container",def:s.Sprite,isContainer:!0,props:{blendMode:["enum","NORMAL",e.PIXI_BLEND_MODES],tint:["color",16777215],texture:["texture"]}},Text:{base:"Sprite",def:s.Text,isContainer:!0,props:{text:["string"],style:["object",null,R]}},Graphics:{base:"Container",def:s.Graphics,isContainer:!0,props:{tint:["color",16777215]}}},T="WebGL";s.utils.isWebGLSupported()||(T="canvas"),s.utils.sayHello(T);var h,v=(t(y,h=n.Component),Object.defineProperty(y.prototype,"entity",{get:function(){return this.entityAdaptor.entity},enumerable:!0,configurable:!0}),y);function y(){return null!==h&&h.apply(this,arguments)||this}e.Component=v,e.PIXI_TextStyle=R,e.bubbling=o,e.createEntity=function(e){return _.createEntity(e)},e.entityProps=S,e.launchApp=function(){(_=new n.Application).registerEntityDefs(S);var e=new s.Application({resizeTo:window});e.renderer.view.style.position="absolute",e.renderer.view.style.display="block",document.body.appendChild(e.view);var t=_.setupAdaptor({stage:e.stage,EntityAdaptor:l,addDisplayFunc:function(e,t){t.addChild(e)},traverseFunc:i,bubblingFunc:o,loadResourceFunc:f,getResFunc:E,protocols:O});return s.Ticker.shared.add(function(e){t(1e3*e/60)}),_},e.traverse=i,Object.defineProperty(e,"__esModule",{value:!0})});
